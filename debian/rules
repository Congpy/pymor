#!/usr/bin/make -f
# -*- makefile -*-

PY2VERS=$(shell pyversions -vr debian/control)
PY3VERS=$(shell py3versions -vr)
PYDEF=$(shell pyversions -dv)
PY3DEF=$(shell py3versions -dv)
PYLIBPATH := $(shell python -c "from distutils.command.build import build ; from distutils.core import Distribution ; b = build(Distribution()) ; b.finalize_options() ; print b.build_platlib")

# Uncomment this to turn on verbose mode.
export DH_VERBOSE=1
export DH_OPTIONS=-v

# dh $@ --with sphinxdoc,python2

%:
	dh $@ --with python2

override_dh_auto_install:
	python setup.py install --root=debian/pymor --install-layout=deb --install-lib=/usr/share/pymor-base/lib --install-scripts=/usr/share/pymor-base/bin

override_dh_auto_build:

# re-add test
override_dh_test:

override_dh_clean:
	dh_clean
	rm -rf *egg
	rm -f distribute*.tar.gz
	rm -f docs/docutils.conf
	rm -rf build/ dist/
	find . -name "*.pyc" -exec rm {} \;
